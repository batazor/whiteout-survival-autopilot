name: VIP Add

trigger: vip.state.isVIPAddAvailable

node: vip_add

priority: 10

steps:
  - action: loop
    trigger: vip.state.isVIPAddAvailable
    steps:
      - if: # –ï—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–∞ –∫–Ω–æ–ø–∫–∞ —Å –º—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–æ—Ä–æ–º, —Ç–æ –Ω–∞–∂–∏–º–∞–µ–º –Ω–∞ –Ω–µ—ë
          trigger: vip.state.isVIPAddAvailableX
          then:
            - click: vip.state.isVIPAddAvailableX
      - if: # –ï—Å–ª–∏ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–∞ –∫–Ω–æ–ø–∫–∞ —Å –º—É–ª—å—Ç–∏–ø–ª–∏–∫–∞—Ç–æ—Ä–æ–º, —Ç–æ –Ω–∞–∂–∏–º–∞–µ–º –Ω–∞ –∫–Ω–æ–ø–∫—É —Å –æ–±—ã—á–Ω—ã–º VIP
          trigger: "!vip.state.isVIPAddAvailableX"
          then:
            - click: vip.state.isVIPAddAvailable
      - action: screenshot           # üì∏ –ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è —Å–Ω–æ–≤–∞ –¥–µ–ª–∞–µ–º —Å–∫—Ä–∏–Ω—à–æ—Ç –∏ –æ–±–Ω–æ–≤–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ
        analyze:
          - name: vip.state.isVIPAddAvailable
            action: color_check
            expectedColor: green
            threshold: 0.5
          - name: vip.state.isVIPAddAvailableX
            action: color_check
            expectedColor: green
            threshold: 0.5
      - click: vip_add_any_click # –ù–∞–∂–∏–º–∞–µ–º –Ω–∞ –ª—é–±–æ–µ –º–µ—Å—Ç–æ —ç–∫—Ä–∞–Ω–∞, –Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π

  - pushUsecase:
      - trigger: vip.state.isAdd
        list:
          - name: Check VIP
